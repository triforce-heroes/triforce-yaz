let t=Buffer.from("Yaz0\0\0\0\0\0\0\0\0\0\0\0\0","binary");export function compress(e,n=9){let l=Buffer.from(t);return 0===e.length?l:(l.writeUInt32BE(e.length,4),e.length<4)?Buffer.concat([l,Buffer.from([255<<8-e.length]),e]):Buffer.concat([l,+n?function(t,e){let n=[],l=0,r=t.length-1;t:for(;r>=0;){let f=r-2;if(f>0){let h=r-1;for(let o=1;o<=e&&!(r-o<0);o++)if(t[r]===t[r-o]&&t[h]===t[h-o]&&t[f]===t[f-o]){let e=3;for(r-=3;e<273&&0!==r&&t[r]===t[r-o];e++)r--;o--,e<18?(l+=2,n.push([o>>8|e-2<<4,255&o])):(l+=3,n.push([o>>8,255&o,e-18]));continue t}}l++,n.push([t[r--]])}let f=0,h=0,o=Buffer.allocUnsafe(Math.ceil(n.length/8)+l);for(let t=0;t<n.length;t++){let e=n[n.length-t-1];t%8==0&&(o.writeUInt8(0,f),h=f++),1===e.length?(o.writeUInt8(e[0],f),o[h]|=1<<7-t%8):2===e.length?o.writeUInt16BE(e[0]<<8|e[1],f):o.writeUIntBE(e[0]<<16|e[1]<<8|e[2],f,3),f+=e.length}return o}(e,9>+n?4320*n/9-224:4096):function(t){let e=0,n=Buffer.alloc(Math.ceil(t.length/8)+t.length),l=0;for(;l<t.length;){l%8==0&&(n[e++]=l+7<t.length?255:255<<8-(t.length-l));for(let r=0;r<8&&l<t.length;r++)n[e++]=t[l++]}return n}(e)])}