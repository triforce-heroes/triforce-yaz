import{existsSync as o,readFileSync as e,writeFileSync as r}from"node:fs";import{normalize as t}from"node:path";import{fatal as s}from"@triforce-heroes/triforce-core";import{compress as m}from"../Compress.js";export function CompressCommand(i,f,p){o(i)||s(`File not found: ${i}`);let n=t(f??`${i}.compressed`);process.stdout.write(`Compressing ${t(i)} to ${n}... `);let c=m(e(i),p.level);r(n,Buffer.concat([c,Buffer.alloc(Math.max(0,void 0===p.width?0:p.width-c.length))])),process.stdout.write("OK\n")}