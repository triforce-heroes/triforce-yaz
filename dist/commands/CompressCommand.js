import o,{existsSync as e,readFileSync as r}from"node:fs";import{normalize as t}from"node:path";import{fatal as s}from"@triforce-heroes/triforce-core/Console";import{compress as m}from"../Compress.js";export function CompressCommand(i,f,n){e(i)||s(`File not found: ${i}`);let p=t(f??`${i}.compressed`);process.stdout.write(`Compressing ${t(i)} to ${p}... `);let c=m(r(i),n.level);o.writeFileSync(p,Buffer.concat([c,Buffer.alloc(Math.max(0,n.width-c.length))])),process.stdout.write("OK\n")}