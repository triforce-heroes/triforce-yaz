import o,{existsSync as e,readFileSync as t}from"node:fs";import{normalize as r}from"node:path";import{fatal as s}from"@triforce-heroes/triforce-core/Console";import{compress as i}from"../Compress.js";export function CompressCommand(m,n,f){e(m)||s(`File not found: ${m}`);let p=r(n??`${m}.compressed`),c=t(m);process.stdout.write(`Compressing ${r(m)} to ${p}... `);let d=Date.now(),a=i(c,f);process.stdout.write(`OK (${((Date.now()-d)/1e3).toFixed(2)}s)
`),o.writeFileSync(p,Buffer.concat([a,Buffer.alloc(Math.max(0,f.width-a.length))]))}