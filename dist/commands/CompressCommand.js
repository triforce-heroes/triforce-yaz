import o,{existsSync as e,readFileSync as t}from"node:fs";import{normalize as r}from"node:path";import{fatal as s}from"@triforce-heroes/triforce-core/Console";import{compress as i}from"../Compress.js";export function CompressCommand(m,f,n){e(m)||s(`File not found: ${m}`);let p=r(f??`${m}.compressed`),c=t(m);process.stdout.write(`Compressing ${r(m)} to ${p}... `);let l=Date.now(),a=i(c,n.level,n.fast);process.stdout.write(`OK (${((Date.now()-l)/1e3).toFixed(2)}s)
`),o.writeFileSync(p,Buffer.concat([a,Buffer.alloc(Math.max(0,n.width-a.length))]))}