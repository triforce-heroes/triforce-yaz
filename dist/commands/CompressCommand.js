import o,{existsSync as e,readFileSync as r}from"node:fs";import{normalize as t}from"node:path";import*as s from"@triforce-heroes/triforce-core";import{compress as m}from"../Compress.js";export function CompressCommand(f,i,n){e(f)||s.fatal(`File not found: ${f}`);let p=t(i??`${f}.compressed`);process.stdout.write(`Compressing ${t(f)} to ${p}... `);let c=m(r(f),n.level);o.writeFileSync(p,Buffer.concat([c,Buffer.alloc(Math.max(0,n.width-c.length))])),process.stdout.write("OK\n")}